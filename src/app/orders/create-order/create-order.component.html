<form #employeeForm="ngForm" (ngSubmit)="saveOrder(order)">
  <div class="panel panel-primary">
    <div class="panel-heading">
      <h3 class="panel-title">Enter Order Details for :
                       <strong style="color:rgb(0, 204, 255)">{{order.customerName}}</strong></h3>
    </div>
    <div class="panel-body">


        <div class="form-group" [class.has-error]="itemName.touched && itemName.invalid">
            <label for="itemName" class="control-label">Item Name</label>
            <input id="itemName" required type="text" class="form-control"
                   name="itemName" [(ngModel)]="order.itemName" #itemName="ngModel">
                   <span class="help-block" *ngIf="itemName.touched && itemName.invalid">
                     Please enter itemName
                   </span>
          </div>
     
          <div class="form-group" >
              <label for="itemType"  class="control-label">Select Item Type</label>
              <select [(ngModel)]="order.itemType" name="itemType" id="itemType" class="form-control" >
                  <option value="" disabled selected>select a category</option>
                  <option *ngFor="let item of availableItemType" [value]="item">{{item}}</option>
                </select>
          </div>
  
           
  
          <div class="form-group" [class.has-error]="weight.touched && weight.invalid">
            <label for="weight" class="control-label">Weight</label>
            <input id="weight" required type="text" class="form-control"
                   name="weight" [(ngModel)]="order.weight" #weight="ngModel">
                   <span class="help-block" *ngIf="weight.touched && weight.invalid">
                     Please enter weight
                   </span>
          </div>
  
          <div class="form-group" >
            <label for="itemQuality" class="control-label">Iteam Quality (Tanch)%</label>
            <select [(ngModel)]="order.itemQuality" name="itemQuality" id="itemQuality" class="form-control" >
              <option value="" disabled selected>select a category</option>
              <option *ngFor="let itemQuality of itemQualityList" [value]="itemQuality">{{itemQuality}}</option>
            </select>
          </div>

      

        <div class="form-group">
            <label for="dueDate" class="control-label">Due Date</label>
            <span class="glyphicon glyphicon-calendar"></span>
            <div class="form-control" >
                <app-date-picker [(ngModel)]="order.dueDate"  name="dueDate"> </app-date-picker>
            </div>
        </div>
    
        <div class="form-group" [class.has-error]="marketRate.invalid && marketRate.touched">
                <label for="marketRate" class="control-label">Market Rate</label>
                <input  id="marketRate" required  type="text" class="form-control" 
                        name="marketRate" [(ngModel)]="order.marketRate"
                       #marketRate="ngModel" (blur)="calculateAmount(order)">
                       <span class="help-block" *ngIf="marketRate.invalid && marketRate.touched">
                            Please enter Market Rate 
                       </span>
         </div>


      <div class="form-group" [class.has-error]="orderAmount.invalid && orderAmount.touched">
          <label for="orderAmount" class="control-label"> Order Amount  
              &nbsp;<span *ngIf="calculationLogic" style="color:darkorange">
                <small><em>({{calculationLogic}})</em></small></span></label>
          <input  id="orderAmount" required  type="text" class="form-control" 
                  name="orderAmount" [(ngModel)]="order.orderAmount"
                 #orderAmount="ngModel">
                 <span class="help-block" *ngIf="orderAmount.invalid && orderAmount.touched">
                      Please enter Order Amount
                 </span>
        </div>

        <div class="form-group" [class.has-error]="makingCharge.invalid && makingCharge.touched">
          <label for="makingCharge" class="control-label">Making Charge</label>
          <input  id="makingCharge"  type="text" class="form-control" 
                  name="makingCharge" [(ngModel)]="order.makingCharge"
                 #makingCharge="ngModel">
                 
        </div>

        <div class="form-group" [class.has-error]="discount.invalid && discount.touched">
          <label for="discount" class="control-label">Discount </label>
          <input  id="discount"  type="text" class="form-control" 
                  name="discount" [(ngModel)]="order.discount"
                 #discount="ngModel">
                 
        </div>

        <div class="form-group" [class.has-error]="receivedAmount.invalid && receivedAmount.touched">
            <label for="receivedAmount" class="control-label">Recieved Amount</label>
            <input  id="receivedAmount" required  type="text" class="form-control" 
                    name="receivedAmount" [(ngModel)]="order.receivedAmount"
                   #receivedAmount="ngModel" (blur)=getPendingAmount(order)>
                   <span class="help-block" *ngIf="receivedAmount.invalid && receivedAmount.touched">
                        Please enter Order Amount
                   </span>
          </div>

          <div class="form-group" class="text-primary"  *ngIf="order?.receivedAmount">
              <label for="receivedAmount" class="control-label">Pending Amount : </label>
             ({{order?.orderAmount}} + {{order?.makingCharge}} ) - ( {{order?.receivedAmount}} +  {{order?.discount}}) =  
             <span  class="form-control" class="text-warning" *ngIf="pendingAmount">
               <strong>
                {{pendingAmount}}

               </strong>  </span> 
                    
            </div>
          
        
        

        <div class="form-group">
          <label for="comments">Comments</label>
          <input id="comments" type="text" class="form-control"
                 name="comments" [(ngModel)]="order.comments">
        </div>

        <div class="form-group" >
                <label for="khataNumber" >Khata Number</label>
                <input  id="khataNumber"   type="text" class="form-control" 
                        name="khataNumber" [(ngModel)]="order.khataNumber">
                      
              </div>



    </div>
      <div class="panel-footer">
       <button class="btn btn-primary" type="submit">Save</button>
    </div>
    <div class="panel-footer text-success" *ngIf="successMessage">
        {{successMessage}}
     </div>
     <div class="panel-footer text-danger" *ngIf="errorResponse">
        {{errorResponse}}
     </div>
     <div class="text-danger" *ngIf="validationError">
            {{validationError}}
         </div>
  </div>
</form> 




<div class="modal " tabindex="-1" id="confirmationModal"
  data-keyboard="false" data-backdrop="static" [ngStyle]="{'display':getDisplayObject()}" >
  <div class="modal-dialog modal-lg">
  <div class="modal-content">
        
                <div class="modal-header">
          
                        <button type="button" (click)="dismissModal()" class="close" data-dismiss="modal">
                            &times;
                        </button>
                        <h4 class="modal-title">Create Order Status</h4>
                    </div>
                    <div class="modal-body">
                        <div class="text-success" style="align-content: center"  *ngIf="success_response"> 
                            <h4>{{success_response}}</h4> </div>
                           
                        <div class="text-error" style="align-content: center"  *ngIf="errorResponseOnCreateOrder">
                             <h4>{{errorResponseOnCreateOrder}}</h4></div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" (click)="dismissModal()" class="btn btn-info" >Create one more Order</button>
                        <button type="button" class="btn btn-primary"
                        (click)="dismissModalAndRedirect()"   data-dismiss="modal">Go to Order List</button>
                    </div>
            
         
      
      
  </div>
</div>
</div> 







